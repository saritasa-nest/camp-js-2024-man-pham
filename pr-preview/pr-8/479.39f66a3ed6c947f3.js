"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[479],{6479:(P,m,n)=>{n.r(m),n.d(m,{LoginComponent:()=>S});var o=n(7788),t=n(7222),e=n(5468),c=n(4587),d=n(6182),g=n(2221),f=n(9675),p=n(9897),u=n(5860);class h extends u.b{constructor(s){super(),this.email=s.email,this.password=s.password}}var v=n(6166),F=n(5981),b=n(4526),C=n(6347),y=n(7212),E=n(6610),j=n(341);const k=()=>["../","register"];function L(i,s){1&i&&(o.j41(0,"span",13),o.EFF(1," Signing in "),o.k0s())}function M(i,s){1&i&&(o.j41(0,"span",13),o.EFF(1," Sign in "),o.j41(2,"mat-icon"),o.EFF(3,"arrow_right_alt"),o.k0s()())}let S=(()=>{class i{constructor(){this.fb=(0,o.WQX)(t.Qk),this.isLoading$=new F.t(!1),this.formErrorService=(0,o.WQX)(v._),this.destroyRef=(0,o.WQX)(o.abz),this.userService=(0,o.WQX)(p.D),this.router=(0,o.WQX)(f.Ix),this.loginForm=this.initializeForm()}onSubmit(){if(this.loginForm.markAllAsTouched(),this.loginForm.invalid)return;this.isLoading$.next(!0);const l=new h(this.loginForm.getRawValue());this.userService.login(l).pipe((0,b.W)(a=>{throw this.formErrorService.handleResponseError(this.loginForm,a),Error}),(0,C.j)(()=>{this.isLoading$.next(!1)}),(0,y.pQ)(this.destroyRef)).subscribe(()=>this.router.navigate(["/"],{replaceUrl:!0}))}initializeForm(){return this.fb.group({email:this.fb.control("",{validators:[t.k0.required,t.k0.email]}),password:this.fb.control("",{validators:[t.k0.required,t.k0.minLength(8)]})})}static#o=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275cmp=o.VBU({type:i,selectors:[["camp-login"]],standalone:!0,features:[o.aNF],decls:30,vars:15,consts:[[1,"header-container"],[1,"header-title"],[1,"header-subtitle"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-control"],["for","email",1,"form__label"],["subscriptSizing","dynamic","appearance","outline",1,"form__input-field"],["matIconPrefix",""],["matInput","","type","email","placeholder","Enter your email","id","email",3,"formControl"],["for","password",1,"form__label"],[3,"id","touched","control"],[1,"form__actions"],["mat-stroked-button","","type","submit",1,"form__button",3,"disabled"],[1,"button__label"],[1,"form__navigate","navigate"],["replaceUrl","true",1,"navigate__link",3,"routerLink"]],template:function(a,r){1&a&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Welcome back"),o.k0s(),o.j41(3,"p",2),o.EFF(4,"Sign in to access to you dashboard."),o.k0s()(),o.j41(5,"form",3),o.bIt("ngSubmit",function(){return r.onSubmit()}),o.j41(6,"section",4)(7,"label",5),o.EFF(8,"Email"),o.k0s(),o.j41(9,"mat-form-field",6)(10,"mat-icon",7),o.EFF(11,"email"),o.k0s(),o.nrm(12,"input",8),o.j41(13,"mat-error")(14,"span"),o.EFF(15),o.k0s()()()(),o.j41(16,"section",4)(17,"label",9),o.EFF(18,"Password"),o.k0s(),o.nrm(19,"camp-password-input",10),o.k0s(),o.j41(20,"div",11)(21,"button",12),o.nI1(22,"async"),o.DNE(23,L,2,0,"span",13),o.nI1(24,"async"),o.DNE(25,M,4,0,"span",13),o.k0s(),o.j41(26,"div",14),o.EFF(27," No account? "),o.j41(28,"a",15),o.EFF(29,"Create an account"),o.k0s()()()()),2&a&&(o.R7$(5),o.Y8G("formGroup",r.loginForm),o.R7$(7),o.Y8G("formControl",r.loginForm.controls.email),o.R7$(3),o.JRh(r.formErrorService.getErrors(r.loginForm.controls.email)),o.R7$(4),o.Y8G("id","password")("touched",r.loginForm.controls.password.touched)("control",r.loginForm.controls.password),o.R7$(2),o.Y8G("disabled",r.loginForm.invalid)("disabled",o.bMT(22,10,r.isLoading$)),o.R7$(2),o.vxM(o.bMT(24,12,r.isLoading$)?23:25),o.R7$(5),o.Y8G("routerLink",o.lJ4(14,k)))},dependencies:[E.Jj,j.H,t.X1,t.qT,t.me,t.BC,t.cb,t.l_,t.j4,e.RG,e.rl,e.TL,e.JW,c.fS,c.fg,d.m_,d.An,g.Hl,g.$z,f.Wk],styles:[".auth[_ngcontent-%COMP%]{background-color:var(--primary-light-color);display:flex;width:100vw;height:100vh;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]{display:block;width:30%;background-color:var(--background-color);padding:var(--spacing-xl);border-radius:var(--border-radius-md)}.header-container[_ngcontent-%COMP%]{text-align:center;display:block}.header-title[_ngcontent-%COMP%]{font-size:40px;color:var(--primary-color)}.header-subtitle[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);margin-bottom:0;color:var(--primary-dark-color)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.form__label[_ngcontent-%COMP%]{font-weight:var(--font-weight-medium);color:var(--primary-dark-color)}.form__button[_ngcontent-%COMP%]{width:100%}.button__label[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-sm);font-size:var(--font-size-md)}.form__navigate[_ngcontent-%COMP%]{margin-top:var(--spacing-lg);text-align:center}.navigate__link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}","[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-lg)}"],changeDetection:0})}return i})()}}]);